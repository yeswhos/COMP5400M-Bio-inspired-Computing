<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BEAST - Bioinspired Evolutionary Agent Simulation Toolkit: sensor.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>sensor.h</h1><a href="sensor_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00010 <span class="preprocessor">#ifndef _SENSOR_H</span>
00011 <span class="preprocessor"></span><span class="preprocessor">#define _SENSOR_H</span>
00012 <span class="preprocessor"></span>
00013 <span class="preprocessor">#include "<a class="code" href="sensorbase_8h.html">sensorbase.h</a>"</span>
00014 <span class="preprocessor">#include "sensorfunctors.h"</span>
00015 
00016 <span class="keyword">namespace </span>BEAST {
00017 
00036 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00037"></a><a class="code" href="group__sensors.html#a4">00037</a> Sensor* <a class="code" href="group__sensors.html#a4">ProximitySensor</a>(<span class="keywordtype">double</span> scope, <span class="keywordtype">double</span> range, <span class="keywordtype">double</span> orientation)
00038 {
00039     Sensor* s = <span class="keyword">new</span> BeamSensor(scope, range, Vector2D(0.0, 0.0), orientation);
00040     s-&gt;SetMatchingFunction(<span class="keyword">new</span> MatchKindOf&lt;T&gt;);
00041     s-&gt;SetEvaluationFunction(<span class="keyword">new</span> EvalNearest(s, range));
00042     s-&gt;SetScalingFunction(<span class="keyword">new</span> ScaleLinear(0.0, range, 1.0, 0.0));
00043     
00044     <span class="keywordflow">return</span> s;
00045 }
00046 
00047 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
00048 Sensor* NearestAngleSensor()
00049 {
00050     Sensor* s = <span class="keyword">new</span> Sensor(Vector2D(0.0, 0.0), 0.0);
00051     s-&gt;SetMatchingFunction(<span class="keyword">new</span> MatchKindOf&lt;T&gt;);
00052     s-&gt;SetEvaluationFunction(<span class="keyword">new</span> EvalNearestAngle(s, 1000.0));
00053     s-&gt;SetScalingFunction(<span class="keyword">new</span> ScaleLinear(-PI, PI, -1.0, 1.0));
00054     
00055     <span class="keywordflow">return</span> s;
00056 }
00057 
00058 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
00059 Sensor* NearestXSensor()
00060 {
00061     Sensor* s = <span class="keyword">new</span> Sensor(Vector2D(0.0, 0.0), 0.0);
00062     s-&gt;SetMatchingFunction(<span class="keyword">new</span> MatchKindOf&lt;T&gt;);
00063     s-&gt;SetEvaluationFunction(<span class="keyword">new</span> EvalNearestXDist(s, 1000.0));
00064     s-&gt;SetScalingFunction(<span class="keyword">new</span> ScaleLinear(-500.0, 500.0, -1.0, 1.0));
00065     
00066     <span class="keywordflow">return</span> s;
00067 }
00068 
00069 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
00070 Sensor* NearestYSensor()
00071 {
00072     Sensor* s = <span class="keyword">new</span> Sensor(Vector2D(0.0, 0.0), 0.0);
00073     s-&gt;SetMatchingFunction(<span class="keyword">new</span> MatchKindOf&lt;T&gt;);
00074     s-&gt;SetEvaluationFunction(<span class="keyword">new</span> EvalNearestYDist(s, 1000.0));
00075     s-&gt;SetScalingFunction(<span class="keyword">new</span> ScaleLinear(-500.0, 500.0, -1.0, 1.0));
00076     
00077     <span class="keywordflow">return</span> s;
00078 }
00079 
00080 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
00081 Sensor* DensitySensor(<span class="keywordtype">double</span> scope, <span class="keywordtype">double</span> range, <span class="keywordtype">double</span> orientation)
00082 {
00083     <span class="keyword">using</span> <span class="keyword">namespace </span>std; <span class="comment">// for bind1st</span>
00084         
00085     Sensor* s = <span class="keyword">new</span> BeamSensor(scope, range, Vector2D(0.0, 0.0), orientation);
00086     dynamic_cast&lt;BeamSensor*&gt;(s)-&gt;SetDrawFixed(<span class="keyword">true</span>);
00087     s-&gt;SetMatchingFunction(<span class="keyword">new</span> MatchKindOf&lt;T&gt;);
00088     s-&gt;SetEvaluationFunction(<span class="keyword">new</span> EvalCount(1));
00089     s-&gt;SetScalingFunction(<span class="keyword">new</span> ScaleCompose(ScaleAdapt(bind1st(divides&lt;double&gt;(), 1.0)),
00090                                            <span class="keyword">new</span> ScaleLinear(0.0, 1.0, 1.0, 0.0)));
00091 
00092     <span class="keywordflow">return</span> s;
00093 }
00094 
00095 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
00096 Sensor* CollisionSensor()
00097 {
00098     Sensor* s = <span class="keyword">new</span> TouchSensor();
00099     s-&gt;SetMatchingFunction(<span class="keyword">new</span> MatchKindOf&lt;T&gt;);
00100     s-&gt;SetEvaluationFunction(<span class="keyword">new</span> EvalCount());
00101     s-&gt;SetScalingFunction(<span class="keyword">new</span> ScaleThreshold(1.0));
00102 
00103     <span class="keywordflow">return</span> s;
00104 }
00105 
00110 } <span class="comment">// namespace BEAST</span>
00111 
00112 
00113 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Feb 1 21:25:34 2004 for BEAST - Bioinspired Evolutionary Agent Simulation Toolkit by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
