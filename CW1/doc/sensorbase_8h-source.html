<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BEAST - Bioinspired Evolutionary Agent Simulation Toolkit: sensorbase.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>sensorbase.h</h1><a href="sensorbase_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00010 <span class="preprocessor">#ifndef _SENSORBASE_H</span>
00011 <span class="preprocessor"></span><span class="preprocessor">#define _SENSORBASE_H</span>
00012 <span class="preprocessor"></span>
00013 <span class="preprocessor">#include &lt;cmath&gt;</span>
00014 <span class="preprocessor">#include &lt;functional&gt;</span>
00015 <span class="preprocessor">#include &lt;string&gt;</span>
00016 
00017 <span class="preprocessor">#include "worldobject.h"</span>
00018 
00019 <span class="keyword">namespace </span>BEAST {
00020 
<a name="l00030"></a><a class="code" href="structBEAST_1_1SensorMatchFunction.html">00030</a> <span class="keyword">struct </span><a class="code" href="structBEAST_1_1SensorMatchFunction.html">SensorMatchFunction</a> : <span class="keyword">public</span> std::unary_function&lt;WorldObject*, bool&gt;
00031 {
00032     <span class="keyword">virtual</span>         ~<a class="code" href="structBEAST_1_1SensorMatchFunction.html">SensorMatchFunction</a>(){}
00033     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Reset(){};
00034     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>    operator()(<a class="code" href="classBEAST_1_1WorldObject.html">WorldObject</a>*) = 0;
00035 };
00036 
<a name="l00042"></a><a class="code" href="structBEAST_1_1SensorEvalFunction.html">00042</a> <span class="keyword">struct </span><a class="code" href="structBEAST_1_1SensorEvalFunction.html">SensorEvalFunction</a> : <span class="keyword">public</span> std::binary_function&lt;WorldObject*, const Vector2D&amp;, void&gt;
00043 {
00044     <span class="keyword">virtual</span> ~<a class="code" href="structBEAST_1_1SensorEvalFunction.html">SensorEvalFunction</a>(){}
00045     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Reset(){};
00046     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    operator()(<a class="code" href="classBEAST_1_1WorldObject.html">WorldObject</a>*, <span class="keyword">const</span> <a class="code" href="classBEAST_1_1Vector2D.html">Vector2D</a>&amp; nearestPoint) = 0;
00047     <span class="keyword">virtual</span> <span class="keywordtype">double</span>  GetOutput()<span class="keyword">const</span> = 0;
00048 
00049 };
00050 
<a name="l00055"></a><a class="code" href="structBEAST_1_1SensorScaleFunction.html">00055</a> <span class="keyword">struct </span><a class="code" href="structBEAST_1_1SensorScaleFunction.html">SensorScaleFunction</a> : <span class="keyword">public</span> std::unary_function&lt;double, double&gt;
00056 {
00057     <span class="keyword">virtual</span>         ~<a class="code" href="structBEAST_1_1SensorScaleFunction.html">SensorScaleFunction</a>(){}
00058     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Reset(){}
00059     <span class="keyword">virtual</span> <span class="keywordtype">double</span>  operator()(<span class="keywordtype">double</span>) = 0;
00060 };
00061 
00062 
<a name="l00063"></a><a class="code" href="group__sensors.html#a0">00063</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="group__sensors.html#a0">SENSOR_ALPHA</a> = 0.1f; 
00064 
00065 <span class="comment">// Forward declaration for SetOwner and member data</span>
00066 <span class="keyword">class </span>Animat;
00067 
<a name="l00074"></a><a class="code" href="classBEAST_1_1Sensor.html">00074</a> <span class="keyword">class </span><a class="code" href="classBEAST_1_1Sensor.html">Sensor</a> : <span class="keyword">public</span> <a class="code" href="classBEAST_1_1WorldObject.html">WorldObject</a>
00075 {
00076 <span class="keyword">public</span>:
00077     <a class="code" href="classBEAST_1_1Sensor.html#a0">Sensor</a>(<a class="code" href="classBEAST_1_1Vector2D.html">Vector2D</a> l = <a class="code" href="classBEAST_1_1Vector2D.html">Vector2D</a>(0.0, 0.0), <span class="keywordtype">double</span> o = 0.0);
00078     <span class="keyword">virtual</span> <a class="code" href="classBEAST_1_1Sensor.html#a1">~Sensor</a>();
00079 
00080     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classBEAST_1_1Sensor.html#a2">Init</a>();
00081     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classBEAST_1_1Sensor.html#a3">Update</a>();
00082     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classBEAST_1_1Sensor.html#a4">Interact</a>(<a class="code" href="classBEAST_1_1WorldObject.html">WorldObject</a>*);
00083     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    Display(){}
00084     <span class="keyword">virtual</span> <span class="keywordtype">double</span>  <a class="code" href="classBEAST_1_1Sensor.html#a6">GetOutput</a>()<span class="keyword">const</span>;
00085 
00086     <span class="keywordtype">void</span>            SetOwner(<a class="code" href="classBEAST_1_1Animat.html">Animat</a>* owner) { <a class="code" href="classBEAST_1_1Sensor.html#p0">myOwner</a> = owner; }
00087     <a class="code" href="classBEAST_1_1Animat.html">Animat</a>*         GetOwner()<span class="keyword">const</span> { <span class="keywordflow">return</span> <a class="code" href="classBEAST_1_1Sensor.html#p0">myOwner</a>; }
00088 
00089     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1Sensor.html#a9">SetMatchingFunction</a>(<a class="code" href="structBEAST_1_1SensorMatchFunction.html">SensorMatchFunction</a>* func);
00090     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1Sensor.html#a10">SetEvaluationFunction</a>(<a class="code" href="structBEAST_1_1SensorEvalFunction.html">SensorEvalFunction</a>* func);
00091     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1Sensor.html#a11">SetScalingFunction</a>(<a class="code" href="structBEAST_1_1SensorScaleFunction.html">SensorScaleFunction</a>* func);
00092 
00093 <span class="keyword">protected</span>:
<a name="l00094"></a><a class="code" href="classBEAST_1_1Sensor.html#p0">00094</a>     <a class="code" href="classBEAST_1_1Animat.html">Animat</a>*         <a class="code" href="classBEAST_1_1Sensor.html#p0">myOwner</a>;        
<a name="l00095"></a><a class="code" href="classBEAST_1_1Sensor.html#p1">00095</a>     <a class="code" href="classBEAST_1_1Vector2D.html">Vector2D</a>        <a class="code" href="classBEAST_1_1Sensor.html#p1">relLocation</a>;    
<a name="l00096"></a><a class="code" href="classBEAST_1_1Sensor.html#p2">00096</a>     <span class="keywordtype">double</span>          <a class="code" href="classBEAST_1_1Sensor.html#p2">relOrientation</a>; 
00097 
00098     <a class="code" href="structBEAST_1_1SensorMatchFunction.html">SensorMatchFunction</a>*    MatchFunc;
00099     <a class="code" href="structBEAST_1_1SensorEvalFunction.html">SensorEvalFunction</a>*     EvalFunc;
00100     <a class="code" href="structBEAST_1_1SensorScaleFunction.html">SensorScaleFunction</a>*    ScaleFunc;
00101 };
00102 
<a name="l00107"></a><a class="code" href="group__sensors.html#a12">00107</a> <span class="keyword">enum</span> <a class="code" href="group__sensors.html#a12">SelfSensorType</a> {
00108     <a class="code" href="group__sensors.html#a12a61">SELF_SENSOR_X</a>,      
00109     <a class="code" href="group__sensors.html#a12a62">SELF_SENSOR_Y</a>,      
00110     <a class="code" href="group__sensors.html#a12a63">SELF_SENSOR_ANGLE</a>,  
00111     <a class="code" href="group__sensors.html#a12a64">SELF_SENSOR_CONTROL</a> 
00112 };
00113 
<a name="l00119"></a><a class="code" href="classBEAST_1_1SelfSensor.html">00119</a> <span class="keyword">class </span><a class="code" href="classBEAST_1_1SelfSensor.html">SelfSensor</a> : <span class="keyword">public</span> <a class="code" href="classBEAST_1_1Sensor.html">Sensor</a>
00120 {
00121 <span class="keyword">public</span>:
<a name="l00123"></a><a class="code" href="classBEAST_1_1SelfSensor.html#a0">00123</a>     <a class="code" href="classBEAST_1_1SelfSensor.html#a0">SelfSensor</a>(SelfSensorType t, std::string ctrl = <span class="stringliteral">""</span>):
00124       <a class="code" href="classBEAST_1_1SelfSensor.html#p0">myType</a>(t), <a class="code" href="classBEAST_1_1SelfSensor.html#p1">controlName</a>(ctrl){}
00125     <span class="keyword">virtual</span> ~<a class="code" href="classBEAST_1_1SelfSensor.html#a0">SelfSensor</a>(){}
00126 
<a name="l00127"></a><a class="code" href="classBEAST_1_1SelfSensor.html#a2">00127</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBEAST_1_1SelfSensor.html#a2">Update</a>(){}
<a name="l00128"></a><a class="code" href="classBEAST_1_1SelfSensor.html#a3">00128</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBEAST_1_1SelfSensor.html#a3">Interact</a>(<a class="code" href="classBEAST_1_1WorldObject.html">WorldObject</a>*){}
00129     <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classBEAST_1_1SelfSensor.html#a4">GetOutput</a>()<span class="keyword">const</span>;
00130 
00131 <span class="keyword">protected</span>:
<a name="l00132"></a><a class="code" href="classBEAST_1_1SelfSensor.html#p0">00132</a>     <a class="code" href="group__sensors.html#a12">SelfSensorType</a>  <a class="code" href="classBEAST_1_1SelfSensor.html#p0">myType</a>;     
<a name="l00133"></a><a class="code" href="classBEAST_1_1SelfSensor.html#p1">00133</a>     std::string     <a class="code" href="classBEAST_1_1SelfSensor.html#p1">controlName</a>;
00134 };
00135 
<a name="l00141"></a><a class="code" href="classBEAST_1_1AreaSensor.html">00141</a> <span class="keyword">class </span><a class="code" href="classBEAST_1_1AreaSensor.html">AreaSensor</a> : <span class="keyword">public</span> <a class="code" href="classBEAST_1_1Sensor.html">Sensor</a>
00142 {
00143 <span class="keyword">public</span>:
00144     <a class="code" href="classBEAST_1_1AreaSensor.html">AreaSensor</a>(<a class="code" href="classBEAST_1_1Vector2D.html">Vector2D</a> l, <span class="keywordtype">double</span> o):<a class="code" href="classBEAST_1_1Sensor.html#a0">Sensor</a>(l, o){}
00145     <span class="keyword">virtual</span> ~<a class="code" href="classBEAST_1_1AreaSensor.html">AreaSensor</a>(){}
00146 
00147     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classBEAST_1_1AreaSensor.html#a2">Interact</a>(<a class="code" href="classBEAST_1_1WorldObject.html">WorldObject</a>* other);
00148 };
00149 
<a name="l00154"></a><a class="code" href="classBEAST_1_1TouchSensor.html">00154</a> <span class="keyword">class </span><a class="code" href="classBEAST_1_1TouchSensor.html">TouchSensor</a> : <span class="keyword">public</span> <a class="code" href="classBEAST_1_1Sensor.html">Sensor</a>
00155 {
00156 <span class="keyword">public</span>:
00157     <a class="code" href="classBEAST_1_1TouchSensor.html">TouchSensor</a>():<a class="code" href="classBEAST_1_1Sensor.html#a0">Sensor</a>(<a class="code" href="classBEAST_1_1Vector2D.html">Vector2D</a>(0.0,0.0), 0.0){}
00158     <span class="keyword">virtual</span> ~<a class="code" href="classBEAST_1_1TouchSensor.html">TouchSensor</a>(){}
00159 
00160     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classBEAST_1_1TouchSensor.html#a2">Init</a>();
00161     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classBEAST_1_1TouchSensor.html#a3">Interact</a>(<a class="code" href="classBEAST_1_1WorldObject.html">WorldObject</a>* other);
00162 };
00163 
<a name="l00164"></a><a class="code" href="group__sensors.html#a1">00164</a> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="group__sensors.html#a1">BEAM_SENSOR_SCOPE</a> = PI/4;  
<a name="l00165"></a><a class="code" href="group__sensors.html#a2">00165</a> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="group__sensors.html#a2">BEAM_SENSOR_RANGE</a> = 250.0; 
<a name="l00166"></a><a class="code" href="group__sensors.html#a3">00166</a> <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="group__sensors.html#a3">BEAM_DRAW_QUALITY</a> = 0.1f;   
00167 
<a name="l00182"></a><a class="code" href="classBEAST_1_1BeamSensor.html">00182</a> <span class="keyword">class </span><a class="code" href="classBEAST_1_1BeamSensor.html">BeamSensor</a> : <span class="keyword">public</span> <a class="code" href="classBEAST_1_1Sensor.html">Sensor</a>
00183 {
00184 <span class="keyword">public</span>:
00185     <a class="code" href="classBEAST_1_1BeamSensor.html">BeamSensor</a>(<span class="keywordtype">double</span> s = <a class="code" href="group__sensors.html#a1">BEAM_SENSOR_SCOPE</a>, <span class="keywordtype">double</span> r = <a class="code" href="group__sensors.html#a2">BEAM_SENSOR_RANGE</a>,
00186                <a class="code" href="classBEAST_1_1Vector2D.html">Vector2D</a> l = <a class="code" href="classBEAST_1_1Vector2D.html">Vector2D</a>(0.0, 0.0), <span class="keywordtype">double</span> o = 0,
00187                <a class="code" href="classBEAST_1_1Animat.html">Animat</a>* owner = NULL):
00188       <a class="code" href="classBEAST_1_1Sensor.html#a0">Sensor</a>(l, o), <a class="code" href="classBEAST_1_1BeamSensor.html#p0">scope</a>(<a class="code" href="group__utilities.html#a20">limit</a>(0.0, TWOPI, s)), <a class="code" href="classBEAST_1_1BeamSensor.html#p1">range</a>(r), <a class="code" href="classBEAST_1_1BeamSensor.html#p2">drawScale</a>(1.0f),
00189       <a class="code" href="classBEAST_1_1BeamSensor.html#p3">drawFixed</a>(<span class="keyword">false</span>), wrapping(<span class="keyword">true</span>){}
00190     <span class="keyword">virtual</span> ~<a class="code" href="classBEAST_1_1BeamSensor.html">BeamSensor</a>(){}
00191 
00192     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classBEAST_1_1BeamSensor.html#a2">Update</a>();
00193     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classBEAST_1_1BeamSensor.html#a3">Interact</a>(<a class="code" href="classBEAST_1_1WorldObject.html">WorldObject</a>* other);
00194     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1BeamSensor.html#a4">_Interact</a>(<a class="code" href="classBEAST_1_1WorldObject.html">WorldObject</a>* other);
00195 
00196     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classBEAST_1_1BeamSensor.html#a5">Display</a>();
00197     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1BeamSensor.html#a6">_Display</a>();
00198     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="classBEAST_1_1BeamSensor.html#a7">Draw</a>();
00199 
00200     <span class="keywordtype">double</span>          GetScope()<span class="keyword">const</span>         { <span class="keywordflow">return</span> <a class="code" href="classBEAST_1_1BeamSensor.html#p0">scope</a>; }
00201     <span class="keywordtype">double</span>          GetRange()<span class="keyword">const</span>         { <span class="keywordflow">return</span> <a class="code" href="classBEAST_1_1BeamSensor.html#p1">range</a>; }
00202 
00203     <span class="keywordtype">void</span>            SetDrawScale(<span class="keywordtype">float</span> d)   { <a class="code" href="classBEAST_1_1BeamSensor.html#p2">drawScale</a> = d; }
00204     <span class="keywordtype">void</span>            SetDrawFixed(<span class="keywordtype">bool</span> f)    { <a class="code" href="classBEAST_1_1BeamSensor.html#p3">drawFixed</a> = f; }
00205     <span class="keywordtype">void</span>            SetWrapping(<span class="keywordtype">bool</span> w)     { wrapping = w; }
00206 
00207 <span class="keyword">protected</span>:
<a name="l00208"></a><a class="code" href="classBEAST_1_1BeamSensor.html#p0">00208</a>     <span class="keywordtype">double</span>  <a class="code" href="classBEAST_1_1BeamSensor.html#p0">scope</a>;      
<a name="l00209"></a><a class="code" href="classBEAST_1_1BeamSensor.html#p1">00209</a>     <span class="keywordtype">double</span>  <a class="code" href="classBEAST_1_1BeamSensor.html#p1">range</a>;      
00210 
<a name="l00211"></a><a class="code" href="classBEAST_1_1BeamSensor.html#p2">00211</a>     <span class="keywordtype">float</span>   <a class="code" href="classBEAST_1_1BeamSensor.html#p2">drawScale</a>;  
<a name="l00212"></a><a class="code" href="classBEAST_1_1BeamSensor.html#p3">00212</a>     <span class="keywordtype">bool</span>    <a class="code" href="classBEAST_1_1BeamSensor.html#p3">drawFixed</a>;  
00213 
00214     <span class="keywordtype">bool</span>    <a class="code" href="classBEAST_1_1BeamSensor.html#b0">InScope</a>(<span class="keyword">const</span> <a class="code" href="classBEAST_1_1Vector2D.html">Vector2D</a>&amp; vec);
00215 
00216 <span class="keyword">private</span>:
00217     <span class="keywordtype">bool</span>    wrapping,
00218             wrapLeft,
00219             wrapBottom,
00220             wrapRight,
00221             wrapTop;
00222 };
00223 
00228 } <span class="comment">// namespace BEAST</span>
00229 
00230 <span class="preprocessor">#endif</span>
00231 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Feb 1 21:25:34 2004 for BEAST - Bioinspired Evolutionary Agent Simulation Toolkit by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
