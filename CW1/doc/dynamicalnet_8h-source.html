<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BEAST - Bioinspired Evolutionary Agent Simulation Toolkit: dynamicalnet.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>dynamicalnet.h</h1><a href="dynamicalnet_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00009 <span class="preprocessor">#ifndef _DYNAMICALNET_H</span>
00010 <span class="preprocessor"></span><span class="preprocessor">#define _DYNAMICALNET_H</span>
00011 <span class="preprocessor"></span>
00012 <span class="preprocessor">#include &lt;vector&gt;</span>
00013 <span class="preprocessor">#include &lt;algorithm&gt;</span>
00014 <span class="preprocessor">#include &lt;string&gt;</span>
00015 <span class="preprocessor">#include &lt;sstream&gt;</span>
00016 <span class="preprocessor">#include &lt;iterator&gt;</span>
00017 <span class="preprocessor">#include &lt;functional&gt;</span>
00018 <span class="preprocessor">#include &lt;numeric&gt;</span>
00019 <span class="preprocessor">#include &lt;iomanip&gt;</span>
00020 <span class="preprocessor">#include &lt;cmath&gt;</span>
00021 
00022 <span class="preprocessor">#include "<a class="code" href="random_8h.html">random.h</a>"</span>
00023 <span class="preprocessor">#include "<a class="code" href="serialfuncs_8h.html">serialfuncs.h</a>"</span>
00024 
00025 <span class="keyword">namespace </span>BEAST {
00026 
<a name="l00047"></a><a class="code" href="classBEAST_1_1DynamicalNet.html">00047</a> <span class="keyword">class </span><a class="code" href="classBEAST_1_1DynamicalNet.html">DynamicalNet</a>
00048 {
00049 <span class="keyword">protected</span>:
<a name="l00061"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html">00061</a>     <span class="keyword">struct </span><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html">Neuron</a> {
<a name="l00072"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a0">00072</a>         <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a0">Neuron</a>(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> o, <span class="keywordtype">int</span> t, <span class="keywordtype">int</span> inCh, <span class="keywordtype">int</span> outCh, <a class="code" href="classBEAST_1_1DynamicalNet.html">DynamicalNet</a>* p):
00073             <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o0">inputChannel</a>(inCh), <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o1">outputChannel</a>(outCh), 
00074             <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o2">output</a>(0.0f), <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o3">activation</a>(0.0f), <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o4">inputWeights</a>(i), <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o5">outputWeights</a>(o),
00075             <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o6">weights</a>(t + 2), <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o7">parent</a>(p), <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o8">bias</a>(0.0f), <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o9">timeConstant</a>(1.0f){}
00076 
00077         <span class="keywordtype">void</span>                <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a1">Randomise</a>();
00078 
00079         <span class="keywordtype">void</span>                <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a2">Fire</a>();
00080 
00081         <span class="keywordtype">float</span>               <a class="code" href="classBEAST_1_1DynamicalNet.html#a9">GetOutput</a>()<span class="keyword">const</span> { <span class="keywordflow">return</span> <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o2">output</a>; }
00082 
00083         <span class="keywordtype">void</span>                <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a4">GetConfiguration</a>(std::vector&lt;float&gt;&amp; config)<span class="keyword">const</span>;
00084         std::vector&lt;float&gt;::const_iterator
00085                             <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a5">SetConfiguration</a>(std::vector&lt;float&gt;::const_iterator config);
00086 
00087         std::string         <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a6">ToString</a>()<span class="keyword">const</span>;
00088                             
<a name="l00089"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o0">00089</a>         <span class="keywordtype">int</span> <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o0">inputChannel</a>;       
<a name="l00090"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o1">00090</a>         <span class="keywordtype">int</span> <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o1">outputChannel</a>;      
00091 
<a name="l00092"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o2">00092</a>         <span class="keywordtype">float</span> <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o2">output</a>;           
<a name="l00093"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o3">00093</a>         <span class="keywordtype">float</span> <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o3">activation</a>;       
00094 
<a name="l00095"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o4">00095</a>         std::vector&lt;float&gt;  <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o4">inputWeights</a>;   
<a name="l00096"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o5">00096</a>         std::vector&lt;float&gt;  <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o5">outputWeights</a>;  
<a name="l00097"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o6">00097</a>         std::vector&lt;float&gt;  <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o6">weights</a>;        
00098 
<a name="l00099"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o7">00099</a>         <a class="code" href="classBEAST_1_1DynamicalNet.html">DynamicalNet</a>* <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o7">parent</a>;   
00100 
<a name="l00101"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o8">00101</a>         <span class="keywordtype">float</span> <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o8">bias</a>;             
<a name="l00102"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o9">00102</a>         <span class="keywordtype">float</span> <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o9">timeConstant</a>;     
00103 
<a name="l00105"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#e0">00105</a>         <span class="keyword">static</span> <span class="keywordtype">float</span>    <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#e0">RandomNum</a>() { <span class="keywordflow">return</span> <a class="code" href="group__utilities.html#a4">randval</a>(2.0f) - 1.0f; }
00106 
<a name="l00108"></a><a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#e1">00108</a>         <span class="keyword">static</span> <span class="keywordtype">float</span>    <a class="code" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#e1">Sigmoid</a>(<span class="keywordtype">float</span> y)
00109         {
00110             <span class="keywordflow">return</span> static_cast&lt;float&gt;(1.0 / (1.0 + exp(static_cast&lt;double&gt;(-y))));
00111         }
00112     };
00113 
00114     <span class="keyword">friend</span> <span class="keyword">struct </span>Neuron;
00115 
00116 <span class="keyword">public</span>:
00117     <a class="code" href="classBEAST_1_1DynamicalNet.html#a0">DynamicalNet</a>(<span class="keywordtype">int</span> inputs, <span class="keywordtype">int</span> outputs, <span class="keywordtype">int</span> total,
00118         <span class="keywordtype">bool</span> multiInputNodes = <span class="keyword">true</span>, <span class="keywordtype">bool</span> multiOutputNodes = <span class="keyword">false</span>);
00119     <a class="code" href="classBEAST_1_1DynamicalNet.html#a1">~DynamicalNet</a>();
00120 
00121     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1DynamicalNet.html#a2">Init</a>(<span class="keywordtype">int</span> inputs, <span class="keywordtype">int</span> outputs, <span class="keywordtype">int</span> total, 
00122                          <span class="keywordtype">bool</span> multIn, <span class="keywordtype">bool</span> multOut);
00123 
00124     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1DynamicalNet.html#a3">Reset</a>();
00125 
00126     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1DynamicalNet.html#a4">SetInputChannel</a>(<span class="keywordtype">int</span> neuron, <span class="keywordtype">int</span> channel);
00127     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1DynamicalNet.html#a5">SetOutputChannel</a>(<span class="keywordtype">int</span> neuron, <span class="keywordtype">int</span> channel); 
00128 
00129     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1DynamicalNet.html#a6">Randomise</a>();
00130 
<a name="l00132"></a><a class="code" href="classBEAST_1_1DynamicalNet.html#a7">00132</a>     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1DynamicalNet.html#a7">SetInput</a>(<span class="keywordtype">int</span> n, <span class="keywordtype">float</span> f)        { inputs[n] = f; }
00133 
<a name="l00135"></a><a class="code" href="classBEAST_1_1DynamicalNet.html#a8">00135</a>     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1DynamicalNet.html#a7">SetInput</a>(<span class="keyword">const</span> std::vector&lt;float&gt;&amp; v){ inputs = v; }
00136 
<a name="l00138"></a><a class="code" href="classBEAST_1_1DynamicalNet.html#a9">00138</a>     <span class="keywordtype">float</span>           <a class="code" href="classBEAST_1_1DynamicalNet.html#a9">GetOutput</a>(<span class="keywordtype">int</span> n)<span class="keyword">const</span>           { <span class="keywordflow">return</span> outputs[n]; }
00139 
<a name="l00141"></a><a class="code" href="classBEAST_1_1DynamicalNet.html#a10">00141</a>     <span class="keyword">const</span> std::vector&lt;float&gt;&amp; <a class="code" href="classBEAST_1_1DynamicalNet.html#a10">GetOutputs</a>()<span class="keyword">const</span>     { <span class="keywordflow">return</span> outputs; }
00142 
00143     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1DynamicalNet.html#a11">Fire</a>();
00144 
00145     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1DynamicalNet.html#a12">SetConfiguration</a>(<span class="keyword">const</span> std::vector&lt;float&gt;&amp;);
00146     std::vector&lt;float&gt;  <a class="code" href="classBEAST_1_1DynamicalNet.html#a13">GetConfiguration</a>()<span class="keyword">const</span>;
00147 
00148     std::string     <a class="code" href="classBEAST_1_1DynamicalNet.html#a14">ToString</a>()<span class="keyword">const</span>;
00149 
00150     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1DynamicalNet.html#a15">Serialise</a>(std::ostream&amp;)<span class="keyword">const</span>;
00151     <span class="keywordtype">void</span>            <a class="code" href="classBEAST_1_1DynamicalNet.html#a16">Unserialise</a>(std::istream&amp;);
00152 
00153 <span class="keyword">protected</span>:
00154     std::vector&lt;Neuron&gt;&amp;    GetNeurons()            { <span class="keywordflow">return</span> neurons; }
00155     std::vector&lt;float&gt;&amp;     GetInputs()             { <span class="keywordflow">return</span> inputs; }
00156     std::vector&lt;float&gt;&amp;     <a class="code" href="classBEAST_1_1DynamicalNet.html#a10">GetOutputs</a>()            { <span class="keywordflow">return</span> outputs; }
00157     std::vector&lt;float&gt;&amp;     GetNeuronStates()       { <span class="keywordflow">return</span> neuronStates; }
00158 
00159     <span class="keywordtype">bool</span>                    IsMultiInputNodes()     { <span class="keywordflow">return</span> multiInputNodes; }
00160     <span class="keywordtype">bool</span>                    IsMultiOutputNodes()    { <span class="keywordflow">return</span> multiOutputNodes; }
00161 
00162 <span class="keyword">private</span>:
00163     std::vector&lt;Neuron&gt;     neurons;    
00164 
00165     std::vector&lt;float&gt;      inputs;     
00166     std::vector&lt;float&gt;      outputs;    
00167     std::vector&lt;float&gt;      neuronStates;   
00168 
00169     <span class="keywordtype">bool</span> multiInputNodes;   
00170     <span class="keywordtype">bool</span> multiOutputNodes;  
00171 
00172     <span class="keywordtype">int</span>                     GetConfigurationLength()<span class="keyword">const</span>;
00173 };
00174 
00175 std::ostream&amp; <a class="code" href="group__biosystems.html#a2">operator&lt;&lt;</a>(std::ostream&amp; out, <span class="keyword">const</span> DynamicalNet&amp; dnn);
00176 std::istream&amp; <a class="code" href="group__biosystems.html#a3">operator&gt;&gt;</a>(std::istream&amp; in, DynamicalNet&amp; dnn);
00177 
00182 } <span class="comment">// namespace BEAST</span>
00183 
00184 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Feb 1 21:25:34 2004 for BEAST - Bioinspired Evolutionary Agent Simulation Toolkit by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
