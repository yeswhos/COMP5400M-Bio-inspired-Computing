<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BEAST - Bioinspired Evolutionary Agent Simulation Toolkit: BEAST::DynamicalNet::Neuron struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>BEAST::DynamicalNet::Neuron Struct Reference</h1>Unlike the <a class="el" href="classBEAST_1_1FeedForwardNet.html">FeedForwardNet</a>, the <a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html">Neuron</a> in <a class="el" href="classBEAST_1_1DynamicalNet.html">DynamicalNet</a> is more worthy of its name, since nearly all the processing of the DNN's firing algorithm occurs here.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="dynamicalnet_8h-source.html">dynamicalnet.h</a>&gt;</code>
<p>
Collaboration diagram for BEAST::DynamicalNet::Neuron:<p><center><img src="structBEAST_1_1DynamicalNet_1_1Neuron__coll__graph.png" border="0" usemap="#BEAST_1_1DynamicalNet_1_1Neuron__coll__map" alt="Collaboration graph"></center>
<map name="BEAST_1_1DynamicalNet_1_1Neuron__coll__map">
<area href="classBEAST_1_1DynamicalNet.html" shape="rect" coords="97,151,241,170" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="structBEAST_1_1DynamicalNet_1_1Neuron-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a0">Neuron</a> (int i, int o, int t, int inCh, int outCh, <a class="el" href="classBEAST_1_1DynamicalNet.html">DynamicalNet</a> *p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor: sets the number of inputs, outputs and weights for this neuron, as well as input and output channels. </em> <a href="#a0"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a1">Randomise</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fills all input, output and internal weights with random numbers in the range [-1,1]. </em> <a href="#a1"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a2">Fire</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is where everything /actually/ happens - this method calculates the amount by which the activation value changes. </em> <a href="#a2"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a3" doxytag="BEAST::DynamicalNet::Neuron::GetOutput"></a>
float&nbsp;</td><td class="memItemRight" valign=bottom><b>GetOutput</b> () const</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a4">GetConfiguration</a> (std::vector&lt; float &gt; &amp;config) const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copies all weights, bias and time constant into the provided vector. </em> <a href="#a4"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>std::vector&lt; float &gt;::const_iterator&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a5">SetConfiguration</a> (std::vector&lt; float &gt;::const_iterator config)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the Neuron's configuration according to the input, which is an iterator of a vector of floats. </em> <a href="#a5"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>std::string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a6">ToString</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prints all the data in this <a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html">Neuron</a> in a pretty format and returns it as a string. </em> <a href="#a6"></a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="e0" doxytag="BEAST::DynamicalNet::Neuron::RandomNum"></a>
float&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#e0">RandomNum</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a random number in the range [-1,1]. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="e1" doxytag="BEAST::DynamicalNet::Neuron::Sigmoid"></a>
float&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#e1">Sigmoid</a> (float y)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The standard ANN squashing function. <br><br></td></tr>
<tr><td colspan=2><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="o0" doxytag="BEAST::DynamicalNet::Neuron::inputChannel"></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o0">inputChannel</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This neuron's input channel, or -1 for all. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="o1" doxytag="BEAST::DynamicalNet::Neuron::outputChannel"></a>
int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o1">outputChannel</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This neuron's output channel, or -1 for all. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="o2" doxytag="BEAST::DynamicalNet::Neuron::output"></a>
float&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o2">output</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The neuron's current output. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="o3" doxytag="BEAST::DynamicalNet::Neuron::activation"></a>
float&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o3">activation</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The neuron's current activation. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="o4" doxytag="BEAST::DynamicalNet::Neuron::inputWeights"></a>
std::vector&lt; float &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o4">inputWeights</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The input weights. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="o5" doxytag="BEAST::DynamicalNet::Neuron::outputWeights"></a>
std::vector&lt; float &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o5">outputWeights</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The output weights. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="o6" doxytag="BEAST::DynamicalNet::Neuron::weights"></a>
std::vector&lt; float &gt;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o6">weights</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Weights for every neuron, bias and time constant. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="o7" doxytag="BEAST::DynamicalNet::Neuron::parent"></a>
<a class="el" href="classBEAST_1_1DynamicalNet.html">DynamicalNet</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o7">parent</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The net this neuron belongs to. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="o8" doxytag="BEAST::DynamicalNet::Neuron::bias"></a>
float&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o8">bias</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The bias, taken from weights.end() - 2. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="o9" doxytag="BEAST::DynamicalNet::Neuron::timeConstant"></a>
float&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#o9">timeConstant</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Taken from weights.end() - 1. <br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Unlike the <a class="el" href="classBEAST_1_1FeedForwardNet.html">FeedForwardNet</a>, the <a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html">Neuron</a> in <a class="el" href="classBEAST_1_1DynamicalNet.html">DynamicalNet</a> is more worthy of its name, since nearly all the processing of the DNN's firing algorithm occurs here. 
<p>
Each <a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html">Neuron</a> contains a weight for each other neuron (and one for itself), one or multiple input channels and one or multiple output channels, with a series of weights in each case if multiple channels are in use. The neuron also keeps track of its activation value and its output value, which is simply the biased, squashed activation value. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="structBEAST_1_1FeedForwardNet_1_1Neuron.html">FeedForwardNet::Neuron</a></dd></dl>

<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="BEAST::DynamicalNet::Neuron::Neuron"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BEAST::DynamicalNet::Neuron::Neuron </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>i</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>o</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>t</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>inCh</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>outCh</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classBEAST_1_1DynamicalNet.html">DynamicalNet</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>p</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor: sets the number of inputs, outputs and weights for this neuron, as well as input and output channels. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>i</em>&nbsp;</td><td>The number of input weights. </td></tr>
    <tr><td valign=top><em>o</em>&nbsp;</td><td>The number of output weights. </td></tr>
    <tr><td valign=top><em>t</em>&nbsp;</td><td>The total number of internal weights. </td></tr>
    <tr><td valign=top><em>inCh</em>&nbsp;</td><td>The number of input channels. </td></tr>
    <tr><td valign=top><em>outCh</em>&nbsp;</td><td>The number of output channels. </td></tr>
    <tr><td valign=top><em>p</em>&nbsp;</td><td>A pointer to the parent <a class="el" href="classBEAST_1_1DynamicalNet.html">DynamicalNet</a></td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a2" doxytag="BEAST::DynamicalNet::Neuron::Fire"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void BEAST::DynamicalNet::Neuron::Fire </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is where everything /actually/ happens - this method calculates the amount by which the activation value changes. 
<p>
The code of the Firing method has been carefully commented, here is a summary:<ul>
<li>We start by subtracting the last round's activation.</li><li>A weighted sum of the previous neuron outputs is taken.</li><li>Inputs are applied, either as a weighted sum from all channels or as an individual input.</li><li>The total is divided by the time constant...</li><li>... and added back to the previous activation.</li><li>The new activation is then biased and squashed to produce the output.</li><li>The output is applied to the relevant output channels. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#e1">Sigmoid</a> </dd></dl>
</li></ul>
    </td>
  </tr>
</table>
<a name="a4" doxytag="BEAST::DynamicalNet::Neuron::GetConfiguration"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void BEAST::DynamicalNet::Neuron::GetConfiguration </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; float &gt; &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>config</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Copies all weights, bias and time constant into the provided vector. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>config</em>&nbsp;</td><td>A reference to the vector into which the configuration must be copied. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classBEAST_1_1DynamicalNet.html#a13">DynamicalNet::GetConfiguration</a> <p>
<a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html#a5">DynamicalNet::Neuron::SetConfiguration</a> </dd></dl>
    </td>
  </tr>
</table>
<a name="a1" doxytag="BEAST::DynamicalNet::Neuron::Randomise"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void BEAST::DynamicalNet::Neuron::Randomise </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fills all input, output and internal weights with random numbers in the range [-1,1]. 
<p>
The time constant is also randomised with a value between 1 and 70.     </td>
  </tr>
</table>
<a name="a5" doxytag="BEAST::DynamicalNet::Neuron::SetConfiguration"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> vector&lt; float &gt;::const_iterator BEAST::DynamicalNet::Neuron::SetConfiguration </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::vector&lt; float &gt;::const_iterator&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>config</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the Neuron's configuration according to the input, which is an iterator of a vector of floats. 
<p>
This has been done to enable easy configuration by a <a class="el" href="classBEAST_1_1DynamicalNet.html">DynamicalNet</a> of its neurons, without knowing how many values are required for each <a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html">Neuron</a>. The <a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html">Neuron</a> may therefore take what it needs and return an iterator pointing to the rest of the configuration data. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>config</em>&nbsp;</td><td>An iterator pointing to the current position in the configuration data. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>An iterator pointing to the next place after this Neuron's data finishes. </dd></dl>
    </td>
  </tr>
</table>
<a name="a6" doxytag="BEAST::DynamicalNet::Neuron::ToString"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> string BEAST::DynamicalNet::Neuron::ToString </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Prints all the data in this <a class="el" href="structBEAST_1_1DynamicalNet_1_1Neuron.html">Neuron</a> in a pretty format and returns it as a string. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>An STL string. </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following files:<ul>
<li><a class="el" href="dynamicalnet_8h-source.html">dynamicalnet.h</a><li><a class="el" href="dynamicalnet_8cc.html">dynamicalnet.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sun Feb 1 21:26:49 2004 for BEAST - Bioinspired Evolutionary Agent Simulation Toolkit by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.2 </small></address>
</body>
</html>
